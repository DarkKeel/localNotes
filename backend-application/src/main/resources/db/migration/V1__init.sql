CREATE TABLE IF NOT EXISTS users
(
    id         bigint generated by default as identity primary key,
    public_id  varchar(255),
    username   varchar(255) UNIQUE,
    email      varchar(255) UNIQUE,
    password   varchar(255),
    first_name varchar(255),
    last_name  varchar(255),
    created    timestamp,
    updated    timestamp,
    status     varchar(255)
);

CREATE TABLE IF NOT EXISTS roles
(
    id        bigint generated by default as identity primary key,
    public_id varchar(255),
    role_name      varchar(255),
    status    varchar(255),
    created   timestamp,
    updated   timestamp
);

CREATE TABLE IF NOT EXISTS categories
(
    id          bigint generated by default as identity primary key,
    public_id   varchar(255),
    cat_name        varchar(255),
    description varchar(255),
    status      varchar(255),
    user_id     varchar(255),
    color       varchar(255),
    created     timestamp,
    updated     timestamp
);

CREATE TABLE IF NOT EXISTS notes
(
    id          bigint generated by default as identity primary key,
    public_id   varchar(255),
    note_name        varchar(255),
    description varchar(255),
    favorite    boolean,
    status      varchar(255),
    user_id     varchar(255),
    created     timestamp,
    updated     timestamp,
    cat_id      bigint
);

CREATE TABLE IF NOT EXISTS user_roles
(
    user_id bigint not null,
    role_id bigint not null
);

alter table notes add constraint FK_category_id foreign key (cat_id) references categories;
alter table user_roles add constraint FK_user_id foreign key (user_id) references users;
alter table user_roles add constraint FK_role_id foreign key (role_id) references roles;